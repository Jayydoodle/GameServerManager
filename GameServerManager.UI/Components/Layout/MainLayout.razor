@inherits LayoutComponentBase
@inject ISnackbar Snackbar

@* Required *@
<MudThemeProvider />
<MudPopoverProvider />

@* Needed for dialogs *@
<MudDialogProvider />

@* Needed for snackbars *@
<MudSnackbarProvider />

<MudLayout>
    <MudDrawer Open Elevation="0" Variant="@DrawerVariant.Persistent">
        <MudDrawerHeader>
            <MudText Typo="Typo.h6">Server Manager</MudText>
        </MudDrawerHeader>
        <MudNavMenu>
            <MudNavLink Icon="@Icons.Material.Filled.Dashboard">Dashboard</MudNavLink>
            <MudNavGroup Title="Servers" Expanded="true">
                <MudNavLink Href="@AppRoutes.Palworld.Dashboard">Palworld</MudNavLink>
                <MudNavLink OnClick="@(() => GoTo("Settings/Security"))">Security</MudNavLink>
            </MudNavGroup>
            <MudNavLink Icon="@Icons.Material.Filled.LocalLibrary">Library</MudNavLink>
            <MudNavLink Icon="@Icons.Material.Filled.People">Community</MudNavLink>
            <MudNavGroup Title="Settings">
                <MudNavLink OnClick="@(() => GoTo("Settings/Users"))">Users</MudNavLink>
                <MudNavLink OnClick="@(() => GoTo("Settings/Security"))">Security</MudNavLink>
            </MudNavGroup>
        </MudNavMenu>
    </MudDrawer>
    <MudMainContent Class="pa-6">
        @Body
    </MudMainContent>
</MudLayout>
@code
{
    private bool _open = false;

    private void ToggleDrawer()
    {
        _open = !_open;
    }

    private void GoTo(string page) => Snackbar.Add($"Clicked {page}");
}
